define ("mod_latex/main",["exports","./module/Latex","./module/answerAction"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.initUpdate=a.initSteps=a.initShowActions=a.initLatex=a.actionsOnDates=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);function d(a){"@babel/helpers - typeof";return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d(a)}function e(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=f(a))||b&&a&&"number"==typeof a.length){if(c)a=c;var d=0,e=function(){};return{s:e,n:function n(){if(d>=a.length)return{done:!0};return{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g=!0,h=!1,j;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();g=a.done;return a},e:function e(a){h=!0;j=a},f:function f(){try{if(!g&&null!=c.return)c.return()}finally{if(h)throw j}}}}function f(a,b){if(!a)return;if("string"==typeof a)return g(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor)c=a.constructor.name;if("Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return g(a,b)}function g(a,b){if(null==b||b>a.length)b=a.length;for(var c=0,d=Array(b);c<b;c++){d[c]=a[c]}return d}var h=function(a,c,d,e){new b.default({formulaContainer:a,tooltipDuration:e,readOnly:d,formula:c})};a.initLatex=h;a.actionsOnDates=function actionsOnDates(){var a=new Event("change");document.getElementById("id_date_start_enabled").checked=!0;document.getElementById("id_date_start_enabled").dispatchEvent(a);document.getElementById("id_date_end_enabled").checked=!0;document.getElementById("id_date_end_enabled").dispatchEvent(a)};a.initSteps=function initSteps(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"";(0,c.initAction)(a)};a.initShowActions=function initShowActions(){(0,c.showActions)();j()};a.initUpdate=function initUpdate(){var a=!1,b=document.querySelectorAll("[name=\"is_update\"]");if(b.length){a=!!b[0].value}if(a){i().forEach(function(a){a.addEventListener("click",function(a){if(!confirm("\u0415\u0441\u043B\u0438 \u0432\u044B \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u043D\u0438\u0435 \u0432\u0441\u0435 \u043E\u0446\u0435\u043D\u043A\u0438 \u0431\u0443\u0434\u0443\u0442 \u043F\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u043D\u044B \u0437\u0430\u043D\u043E\u0432\u043E! \u0412\u044B\u043F\u043E\u043B\u043D\u0438\u0442\u044C?")){a.preventDefault()}})})}};var i=function(){var a=document.querySelectorAll("[name=\"submitbutton\"]"),b=document.querySelectorAll("[name=\"submitbutton2\"]");return[a[0],b[0]]},j=function(){var a=document.getElementsByClassName("latex_formula_render"),b=e(a),c;try{for(b.s();!(c=b.n()).done;){var f=c.value,g=f.dataset.latexFormula,i=f.dataset.latexReadonly,j=void 0;try{j=JSON.parse(g)}catch(a){j=g}if("object"===d(j)){for(var l in j){var m="".concat(l,"-").concat(Date.now());f.append(k(m));h("#".concat(m),j[l],i)}}else{var n="new-id-latex-".concat(Date.now());f.append(k(n));h("#".concat(n),j,i)}}}catch(a){b.e(a)}finally{b.f()}},k=function(a){var b=document.createElement("input");b.id=a;b.classList.add("d-none");return b}});
//# sourceMappingURL=main.min.js.map
