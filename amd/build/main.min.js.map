{"version":3,"sources":["../src/main.js"],"names":["initLatex","formulaContainer","formula","readOnly","tooltipDuration","Latex","actionsOnDates","event","Event","document","getElementById","checked","dispatchEvent","initSteps","saveInfo","initShowActions","showActionsNew","initUpdate","isUpdate","isUpdateInput","querySelectorAll","length","value","getSubmitButton","forEach","item","addEventListener","confirm","preventDefault","submitbutton","submitbutton2","items","getElementsByClassName","latexFormula","dataset","latexReadonly","dataObject","JSON","parse","e","id","Date","now","append","createContainerNew","input","createElement","classList","add"],"mappings":"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","sourcesContent":["import Latex from \"./module/Latex\";\nimport {initAction, showActions} from \"./module/answerAction\";\n\nexport const initLatex = (formulaContainer, formula, readOnly, tooltipDuration) => {\n    new Latex({\n        formulaContainer: formulaContainer,\n        tooltipDuration: tooltipDuration,\n        readOnly: readOnly,\n        formula: formula\n    });\n};\n\nexport const actionsOnDates = () => {\n    let event = new Event('change');\n    document.getElementById('id_date_start_enabled').checked = true;\n    document.getElementById('id_date_start_enabled').dispatchEvent(event);\n    document.getElementById('id_date_end_enabled').checked = true;\n    document.getElementById('id_date_end_enabled').dispatchEvent(event);\n};\n\nexport const initSteps = (saveInfo = '') => {\n    initAction(saveInfo);\n};\nexport const initShowActions = () => {\n    showActions();\n    showActionsNew();\n};\n\nexport const initUpdate = () => {\n\n    let isUpdate = false;\n    let isUpdateInput = document.querySelectorAll('[name=\"is_update\"]');\n    if (isUpdateInput.length) {\n        isUpdate = Boolean(isUpdateInput[0].value);\n    }\n\n    if (isUpdate) {\n        getSubmitButton().forEach((item) => {\n            item.addEventListener('click', (event) => {\n                if (!confirm('Если вы обновите задание все оценки будут пересчитаны заново! Выполнить?')) {\n                    event.preventDefault();\n                }\n            });\n        });\n    }\n\n};\n\nconst getSubmitButton = () => {\n    let submitbutton = document.querySelectorAll('[name=\"submitbutton\"]');\n    let submitbutton2 = document.querySelectorAll('[name=\"submitbutton2\"]');\n    return [submitbutton[0], submitbutton2[0]];\n};\n\n\nconst showActionsNew = () => {\n    let items = document.getElementsByClassName('latex_formula_render');\n\n    for (let item of items) {\n        let latexFormula = item.dataset.latexFormula;\n        let latexReadonly = item.dataset.latexReadonly;\n\n        let dataObject;\n\n        try {\n            dataObject = JSON.parse(latexFormula);\n        } catch (e) {\n            dataObject = latexFormula;\n        }\n\n        if (typeof dataObject === \"object\") {\n            for (let value in dataObject) {\n                let id = `${value}-${Date.now()}`;\n                item.append(createContainerNew(id));\n                initLatex(`#${id}`, dataObject[value], latexReadonly);\n            }\n        } else {\n            let id = `new-id-latex-${Date.now()}`;\n            item.append(createContainerNew(id));\n            initLatex(`#${id}`, dataObject, latexReadonly);\n        }\n\n\n    }\n};\n\nconst createContainerNew = (id) => {\n    let input = document.createElement('input');\n    input.id = id;\n    input.classList.add('d-none');\n    return input;\n};\n\n"],"file":"main.min.js"}